<div class="row">
  <div class="col s12 m12 l12 text-align-right">
    <button class="btn-close" mat-stroked-button (click)="close()" tabIndex="-1">
      <span class="material-icons span-icon">
        close
      </span>
    </button>
  </div>
</div>

<div class="row">
  <div class="col s12 m12 l12">
    <label class="title">Últimos Movimientos</label>
  </div>
</div>
  
<div class="row">
  <div class="col s12 m6 lg6">
    <button mat-raised-button class="button-copiar" (click)="copiar()" [disabled]="!(list?.length > 0)">
      <span class="material-icons">
        file_download
      </span>
      Exportar Excel
    </button>
  </div>
</div>

<div class="row">
  <div class="col s12 m12 l12">
    <div class="table-lista">
      <table mat-table matSort [dataSource]="list.source" (matSortChange)="list.onSortChange($event)">
        <ng-container matColumnDef="Código">
          <mat-header-cell *matHeaderCellDef [ngClass]="'w-80px'" mat-sort-header>Código</mat-header-cell>
          <mat-cell *matCellDef="let element" [ngClass]="'w-80px'">{{element.codigo}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="Glosa Mov.">
          <mat-header-cell *matHeaderCellDef [ngClass]="'w-240px'">Glosa Mov.</mat-header-cell>
          <mat-cell *matCellDef="let element" [ngClass]="'w-240px'">{{element.descripcion}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="Sucursal">
          <mat-header-cell *matHeaderCellDef [ngClass]="'w-100px'">Sucursal</mat-header-cell>
          <mat-cell *matCellDef="let element" [ngClass]="'w-100px'">{{element.sucursal}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="Caja">
          <mat-header-cell *matHeaderCellDef [ngClass]="'w-100px'">Caja</mat-header-cell>
          <mat-cell *matCellDef="let element" [ngClass]="'w-100px'">{{element.caja}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="Ticket">
          <mat-header-cell *matHeaderCellDef [ngClass]="'w-100px'">Ticket</mat-header-cell>
          <mat-cell *matCellDef="let element" [ngClass]="'w-100px'">{{element.ticket}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="Fecha">
          <mat-header-cell *matHeaderCellDef [ngClass]="'w-100px'" mat-sort-header>Fecha</mat-header-cell>
          <mat-cell *matCellDef="let element" [ngClass]="'w-100px'">{{element.fechaTransaccion}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="Origen">
          <mat-header-cell *matHeaderCellDef [ngClass]="'w-100px'">Origen</mat-header-cell>
          <mat-cell *matCellDef="let element" [ngClass]="'w-100px'">{{element.origenMovimiento}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="Monto Ticket">
          <mat-header-cell *matHeaderCellDef [ngClass]="'w-100px'">Monto Ticket</mat-header-cell>
          <mat-cell *matCellDef="let element" [ngClass]="'w-100px'">{{element.montoTotal}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="Puntos">
          <mat-header-cell *matHeaderCellDef [ngClass]="'w-100px'">Puntos</mat-header-cell>
          <mat-cell *matCellDef="let element" [ngClass]="'w-100px'">{{element.ptosModificados}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="Tipo Mov.">
          <mat-header-cell *matHeaderCellDef [ngClass]="'w-100px'">Tipo Mov.</mat-header-cell>
          <mat-cell *matCellDef="let element" [ngClass]="'w-100px'">{{element.tipoMovimiento}}</mat-cell>
        </ng-container>
        <ng-container matColumnDef="Usuario">
          <mat-header-cell *matHeaderCellDef [ngClass]="'w-120px'">Usuario</mat-header-cell>
          <mat-cell *matCellDef="let element" [ngClass]="'w-120px'">{{element.usrTransaccion}}</mat-cell>
        </ng-container>
       
        <ng-container matColumnDef="loading">
          <mat-footer-cell *matFooterCellDef colspan="6">
            Cargando información...
          </mat-footer-cell>
        </ng-container>
        <ng-container matColumnDef="noData">
          <mat-footer-cell *matFooterCellDef colspan="6">
            Ningún Resultado.
          </mat-footer-cell>
        </ng-container>
        <ng-container matColumnDef="error">
          <mat-footer-cell *matFooterCellDef colspan="6">
            Error en la consulta
          </mat-footer-cell>
        </ng-container>
        <mat-header-row *matHeaderRowDef="list?.columns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: list?.columns;"></mat-row>
        <mat-footer-row *matFooterRowDef="['loading']" [ngClass]="{'hide':(! list?.isSearching)}"></mat-footer-row>
        <mat-footer-row *matFooterRowDef="['error']" [ngClass]="{'hide':(! list?.isError)}"></mat-footer-row>
        <mat-footer-row *matFooterRowDef="['noData']" [ngClass]="{'hide':((! list?.isSearching && ! list?.isError) ? (list?.length > 0) : true)}">
        </mat-footer-row>
      </table>
      <mat-paginator [disabled]="true" [length]="list?.length" [pageSize]="list?.size"
        [pageSizeOptions]="list?.pageSizeOptions" (page)="list?.onPageChange($event)"
        showFirstLastButtons>
      </mat-paginator>
    </div>
  </div>
</div>